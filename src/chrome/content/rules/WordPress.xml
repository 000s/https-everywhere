<!--
	Nonfunctional domains:

		- wordpress.com subdomains:

			- *.blog *
			- *.blog.files *
			- *.forums *
			- *.support *

		- s-plugins.wordpress.org *

		* How so?


	Partially covered domains:

		- wordpress.com subdomains:

			- ^
			- *.files	(per-blog subdomains)
			- r-login
			- s		(→ www)
			- s\d		(→ secure)
			- ssl-stats
			- stats
			- s.stats	(→ stats)
			- *		(per-blog subdomains)

		- wordpress.org subdomains:

			- ^
			- s	(→ www)
			- s\d	(→ secure)
			- *.svn
			- *.trac


	Fully covered domains:

		- wp.com subdomains:

			- i[012]
			- s
			- s\d

-->
<ruleset name="WordPress (partial)" platform="mixedcontent">

	<target host="wordpress.com" />
	<target host="*.wordpress.com" />
		<exclusion pattern="^http://(?:[^/:@\.]+\.)?wordpress\.com/latex\.php(?:\?.*)?$" />
		<!--
			These aren't targeted anyway...

		<exclusion pattern="^http://([^/:@\.]+)\.(blog|blog\.files|forums|support)\.wordpress\.com/" /-->
        	<exclusion pattern="^http://s-plugins\.wordpress\.org/" />
	<target host="wordpress.org" />
	<target host="*.wordpress.org" />
	<target host="*.wp.com" />


	<securecookie host="^wordpress\.org$" name="^devicePixelRatio$" />


	<rule from="^http://wordpress\.(com|org)/"
		to="https://wordpress.$1/"/>

	<rule from="^http://([^/:@\.]+)\.files\.wordpress\.com/"
		to="https://$1.files.wordpress.com/"/>

	<rule from="^http://s\.wordpress\.(com|org)/"
		to="https://www.wordpress.$1/"/>

	<rule from="^http://s\d\.wordpress\.(com|org)/"
		to="https://secure.wordpress.$1/"/>

	<rule from="^http://([^/:@\.]+)\.wordpress\.(com|org)/"
		to="https://$1.wordpress.$2/"/>

	<!--	- Cert: gp1.wac.edgecastcdn.net
		- 404s over https
					-->
	<rule from="^http://s\.stats\.wordpress\.com/"
		to="https://stats.wordpress.com/" />

	<rule from="^http://([^/:@\.]+)\.(trac|svn)\.wordpress\.org/"
		to="https://$1.$2.wordpress.org/"/>

	<rule from="^http://(i[012]|s\d*)\.wp\.com/"
		to="https://$1.wp.com/" />

</ruleset>
