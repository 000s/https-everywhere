<!--
	Nonfunctional domains:

		- posts.docker.com *

	* Redirects to http; mismatched, CN: *.scoop.it


	Problematic domains:

		- blog.docker.io *
		- docs.docker.io *

	* Cert only matches *.docker.com


	Fully covered domains:

		- docker.com subdomains:

			- (www.)
			- blog
			- docs
			- forums
			- hub
			- registry.hub
			- status

		- docker.io subdomains:

			- (www.)
			- blog		(→ blog.docker.com)
			- docs		(→ docs.docker.com)
			- index


	Mixed content:

		- Images, on blog from:

			- $self *
			- blog.docker.io *

	* Secured by us

-->
<ruleset name="Docker.com (partial)">

	<!--	Direct rewrites:
				-->
	<target host="docker.com" />
	<target host="blog.docker.com" />
	<target host="docs.docker.com" />
	<target host="forums.docker.com" />
	<target host="hub.docker.com" />
	<target host="registry.hub.docker.com" />
	<target host="status.docker.com" />
	<target host="www.docker.com" />

	<target host="docker.io" />
	<target host="index.docker.io" />
	<target host="www.docker.io" />

	<!--	Complications:
				-->
	<target host="blog.docker.io" />
	<target host="docs.docker.io" />


	<!--	Not secured by server:
					-->
	<!--securecookie host="^status\.docker\.com$" name="^(SERVERID|connect\.sid)$" /-->

	<securecookie host="^(?:status|www)\.docker\.com$" name=".+" />


	<rule from="^http://(blog|docs)\.docker\.io/"
		to="https://$1.docker.com/" />

	<rule from="^http:"
		to="https:" />

</ruleset>
