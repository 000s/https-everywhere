<!--
	CDN buckets:

		- github.global.ssl.fastly.net
		- a248.e.akamai.net/assets.github.com/
		- a248.e.akamai.net/camo.github.com/
		- s3.amazonaws.com/github/ | d24z2fz21y4fag.cloudfront.net
		- speakerd.s3.amazonaws.com


	Problematic domains:

		- rg3.github.io		(works; mismatched, CN: *.github.com)


	Fully covered domains:

		- github.com subdomains:

			- rg3

-->
<ruleset name="GitHub">

	<target host="github.com" />
	<target host="*.github.com" />
	<target host="collector.githubapp.com" />
	<target host="*.gaug.es" />
	<target host="speakerdeck.com" />
	<target host="www.speakerdeck.com" />


	<securecookie host="^(?:.*\.)?github\.com$" name=".+" />
	<securecookie host="^speakerdeck\.com$" name=".+" />


	<rule from="^http://((?:assets\d+|f\.cloud|developer|eclipse|enterprise|gist|help|jobs|mac|mobile|nodeload|octodex|pages|raw|rg3|status|wiki|windows|www)\.)?github\.com/"
		to="https://$1github.com/" />

	<rule from="^http://cloud\.github\.com/"
		to="https://d24z2fz21y4fag.cloudfront.net/" />

	<!--	- Cert: github.com
		- Redirects like so
				-->
	<rule from="^http://support\.github\.com/"
		to="https://github.com/contact" />

	<rule from="^http://collector\.githubapp\.com/"
		to="https://collector.githubapp.com/" />

	<rule from="^http://get\.gaug\.es/theme/.*/stylesheets/images/favicon\.png$"
		to="https://secure.guag.es/favicon.png" />

	<rule from="^http://secure\.gaug\.es/"
		to="https://secure.gaug.es/" />

	<!--	- www doesn't work over https
		- Redirects to !www over http
			-->
	<rule from="^http://(?:www\.)?speakerdeck\.com/"
		to="https://speakerdeck.com/" />

</ruleset>
