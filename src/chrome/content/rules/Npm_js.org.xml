<!--
	For other Joyent coverage, see Joyent.xml.


	Nonfunctional subdomains:

		- blog *

	* Tumblr


	Problematic domains:

		- npmjs.com ¹
		- www.npmjs.com ²

		- npmjs.org subdomains:

			- couch *
			- scratch *
			- status ⁵

	¹ 404; self-signed, CN: Isaac Z. Schlueter
	² Squarespace
	* Works; mismatched, CN: registry.npmjs.org
	⁵ StatusPage


	Fully covered domains:

		- preview.npmjs.com
		- registry.npmjs.org
		- status.npmjs.org	(-> npmjs.statuspage.io)

-->
<ruleset name="npm js.org (partial)">

	<!--	Direct rewrites:
				-->
	<target host="preview.npmjs.com" />

	<target host="npmjs.org" />
	<target host="registry.npmjs.org" />
	<target host="www.npmjs.org" />

	<!--	Special cases:
				-->
	<target host="status.npmjs.org" />


	<!--	Not secured by server:
					-->
	<!--securecookie host="\.npmjs\.com$" name="^SS_MID$" /-->
	<!--securecookie host="^preview\.npmjs\.com$" name="^crumb$" /-->
	<!--securecookie host="^www\.npmjs\.com$" name="^(JSESSIONID|crumb)$" /-->

	<securecookie host="^preview\.npmjs\.com$" name=".+" />
	<securecookie host="^npmjs\.org$" name=".+" />


	<rule from="^http://status\.npmjs\.org/"
		to="https://npmjs.statuspage.io/" />

	<rule from="^http:"
		to="https:" />

</ruleset>
