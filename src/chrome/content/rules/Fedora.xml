<!--
	For rules causing false/broken MCB, see Fedora-falsemixed.xml.

	For problematic rules, see Fedora_Project-problematic.xml.


	Nonfunctional domains:

		- git.fedorahosted.org		(CN: fedorahosted.org; redirects there & 404s)
		- \w+.fedorapeople.org		(unique domain per person)

		- fedoraproject.org subdomains:

			- directory *
			- ols **
			- pki *
			- planet **
			- publictest04 **

	* Redirects to www.aeolusproject.org; mismatched, CN: *.aeolusproject.org
	** Refused


	Problematic domains:

		- www.fedorahosted.org		(mismatched)
		- pkgs.fedoraproject.org	(works, self-signed)


	Mixed content:

		- css on start from ^ *
		- Images on start from ^ *
		- Images on start from www *

	* Secured by us.


	NB: We secure all resources, and thus
	-falsemixed should be merged for Ffx 24.

-->
<ruleset name="Fedora Project">

	<target host="fedorahosted.org" />
	<target host="www.fedorahosted.org" />
	<target host="fedoraproject.org" />
	<target host="*.fedoraproject.org" />
		<!--
			Causes false/broken MCB:
							-->
		<exclusion pattern="^http://start\.fedoraproject\." />


	<securecookie host="^fedorahosted\.org$" name=".+" />
	<securecookie host="^(?:.*\.)?fedoraproject\.org$" name=".+" />


	<rule from="^https?://(?:www\.)?fedorahosted\.org/"
		to="https://fedorahosted.org/" />

	<rule from="^http://((?:admin|alt|archives|blogs|boot|dl|docs|download|get|join|lists|meetbot|mirrors|retrace|spins|start|talk|www)\.)?fedoraproject\.org/"
		to="https://$1fedoraproject.org/" />

</ruleset>
